(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var t=function(){function t(e,n,o,r,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=n.name,this._link=n.link,this._likes=n.likes,this._cardElementsSelectors=e,this._handleCardClick=o,this._handleConfirmDeleteClick=r,this._handleLikeClick=i,this._cardId=n._id,this._cardElement=n.cardElement,this._ownerId=a._id,this._userId=n.owner._id}var n,o;return n=t,(o=[{key:"_getTemplate",value:function(){return this._element=document.querySelector(this._cardElementsSelectors.template).content.querySelector(this._cardElementsSelectors.card).cloneNode(!0),this._element}},{key:"generateCard",value:function(){return this._getTemplate(),this._elementName=this._element.querySelector(this._cardElementsSelectors.name),this._elementImg=this._element.querySelector(this._cardElementsSelectors.cardImg),this._likeCountElement=this._element.querySelector(this._cardElementsSelectors.numLike),this._likeCountElement.textContent=this._likes.length,this._elementName.textContent=this._name,this._elementImg.alt=this._name,this._elementImg.src=this._link,this._setEventListeners(),this._renderActiveLikes(),this._renderActiveDelIco(),this._element}},{key:"_renderActiveDelIco",value:function(){this._ownerId!==this._userId&&(this._buttonDeleteCard.style.display="none")}},{key:"_initialActiveLikes",value:function(){var e=this;return this._likes.find((function(t){return t._id===e._ownerId}))}},{key:"_likeActive",value:function(){this._likeButton.classList.add(this._cardElementsSelectors.likeActive)}},{key:"_renderActiveLikes",value:function(){var e=this;this._likes.find((function(t){return t._id===e._ownerId}))&&this._likeActive()}},{key:"_handleLikeCard",value:function(){this._initialActiveLikes()?this._handleLikeClick(!0,this._likes,this._cardId,this._likeButton,this._cardElementsSelectors.likeActive,this._likeCountElement):this._initialActiveLikes()||this._handleLikeClick(!1,this._likes,this._cardId,this._likeButton,this._cardElementsSelectors.likeActive,this._likeCountElement)}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton=this._element.querySelector(this._cardElementsSelectors.likeButton),this._likeButton.addEventListener("click",(function(){return e._handleLikeCard()})),this._buttonDeleteCard=this._element.querySelector(this._cardElementsSelectors.buttonDeleteCard),this._buttonDeleteCard.addEventListener("click",(function(){e._handleConfirmDeleteClick.open(e._cardId,e._element)})),this._elementImg.addEventListener("click",(function(){return e._openPopupImg()}))}},{key:"_openPopupImg",value:function(){this._handleCardClick(this._name,this._link)}}])&&e(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._validationConfig=t,this._placeForm=n,this._buttonElement=this._placeForm.querySelector(this._validationConfig.submitButtonSelector),this._inputList=Array.from(this._placeForm.querySelectorAll(this._validationConfig.inputSelector))}var t,o;return t=e,(o=[{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_showInputError",value:function(e,t){var n=this._placeForm.querySelector(".".concat(e.id,"-error"));e.classList.add(this._validationConfig.inputErrorClass),n.textContent=t,n.classList.add(this._validationConfig.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._placeForm.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._validationConfig.inputErrorClass),t.classList.remove(this._validationConfig.errorClass),t.textContent=""}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_setEventListenersInput",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"_disableSubmitButton",value:function(){this._buttonElement.classList.add(this._validationConfig.inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"_enableSubmitButton",value:function(){this._buttonElement.classList.remove(this._validationConfig.inactiveButtonClass),this._buttonElement.disabled=!1}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._disableSubmitButton():this._enableSubmitButton()}},{key:"resetValid",value:function(){var e=this;this._disableSubmitButton(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"enableValidation",value:function(){this._setEventListenersInput()}}])&&n(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._form=this._popup.querySelector(n.form),this._selectors=n,this._handleEscClose=this._handleEscClose.bind(this),this._popupSaveButton=this._popup.querySelector(this._selectors.popupSaveButton)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add(this._selectors.active)}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.classList.remove(this._selectors.active)}},{key:"activateLoader",value:function(e,t){e?(this._popupSaveButton.disabled=!0,this._popupSaveButton.textContent=t,this._popupSaveButton.classList.add(this._selectors.popupSaveButtonInactive)):(this._popupSaveButton.disabled=!1,this._popupSaveButton.textContent=this._popupSaveButton.value,this._popupSaveButton.classList.remove(this._selectors.popupSaveButtonInactive))}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",(function(t){var n=e._popup.querySelector(e._selectors.containerClose);!t.target.classList.contains(e._selectors.closeButton)&&n.contains(t.target)||e.close()}))}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=s(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},c.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(a,e);var t,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(o);if(r){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function a(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(o=i.call(this,e,t))._handleSumbitForm=n,o._inputList=Array.from(o._form.querySelectorAll(t.input)),o}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputValues={},this._inputList.forEach((function(t){e._inputValues[t.name]=t.value})),this._inputValues}},{key:"setEventListeners",value:function(){var e=this;c(f(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleSumbitForm(e._getInputValues())}))}},{key:"close",value:function(){this._form.reset(),c(f(a.prototype),"close",this).call(this)}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=v(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},y.apply(this,arguments)}function v(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function b(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(a,e);var t,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(o);if(r){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t))._zoomMainImg=n._popup.querySelector(n._selectors.zoomMainImg),n._zoomCaption=n._popup.querySelector(n._selectors.zoomCaption),n}return t=a,(n=[{key:"open",value:function(e,t){this._zoomMainImg.src=t,this._zoomMainImg.alt=e,this._zoomCaption.textContent=e,y(k(a.prototype),"open",this).call(this)}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=w(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},S.apply(this,arguments)}function w(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function O(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(a,e);var t,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(o);if(r){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function a(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(o=i.call(this,e,t))._handleDeleteCard=n,o}return t=a,(n=[{key:"open",value:function(e,t){S(I(a.prototype),"open",this).call(this),this._cardId=e,this._cardElement=t}},{key:"setEventListeners",value:function(){var e=this;S(I(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleDeleteCard(e._cardId,e._cardElement)}))}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var B=function(){function e(t,n){var o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"rendererAll",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var q=function(){function e(t){var n=t.name,o=t.about,r=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._about=document.querySelector(o),this._avatar=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){var e={};return e.name=this._name.textContent,e.about=this._about.textContent,e.avatar=this._avatar.src,e._id=this._id,e}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._about.textContent=e.about,this._avatar.src=e.avatar,this._id=e._id}}])&&R(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var T=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"getAllCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then(this._chechResponse)}},{key:"getInfoProfile",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(this._chechResponse)}},{key:"editProfile",value:function(e){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._chechResponse)}},{key:"addCard",value:function(e){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._chechResponse)}},{key:"delCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._chechResponse)}},{key:"addLike",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then(this._chechResponse)}},{key:"delLike",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then(this._chechResponse)}},{key:"changeAvatar",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._chechResponse)}},{key:"_chechResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),D={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_inactive",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active",popupContainer:"popup__container"},x={template:".card",card:".element",name:".element__name",likeButton:".element__like",buttonDeleteCard:".element__delete-ico",cardImg:".element__photo",likeActive:"element__like_active",numLike:".element__numLike"},V={active:"popup_active",containerClose:".popup__container-close",container:".popup__container",closeButton:"popup__close-ico",zoomMainImg:".popup__zoom-main-img",zoomCaption:".popup__zoom-caption",popupAddCard:".popup_type_add-card",form:".popup__form",input:".popup__input",popupZoomImgContainer:".popup_type_zoom-img",popupEditName:".popup_type_edit-name",nameInput:".popup__input_value_username",jobInput:".popup__input_value_about-user",popupConfirm:".popup_type_askDel",popupSaveButton:".popup__save-button",popupSaveButtonInactive:".popup__save-button_inactive",popupAvatar:".popup_type_updateAvatar"},z=document.querySelector(".edit-button"),U=document.querySelector(".add-button"),N=document.querySelector(".popup_type_updateAvatar").querySelector(".popup__form_type_updateAvatar"),F=document.querySelector(".popup_type_edit-name").querySelector(".popup__form_type_edit-name"),M=document.querySelector(".popup__form_type_add-card"),J=(M.querySelector(".popup__input_value_place-name"),M.querySelector(".popup__input_value_place-link"),document.querySelector(".profile").querySelector(".profile__photo")),H=new T({url:"https://mesto.nomoreparties.co/v1/cohort-55",headers:{authorization:"bd61842b-8e5a-461e-8e0d-4a18541609f7","Content-Type":"application/json"}});H.getInfoProfile().then((function(e){$.setUserInfo(e)})),H.getAllCards().then((function(e){te.rendererAll(e.reverse())}));var Z=new o(D,M);Z.enableValidation();var G=new o(D,F);G.enableValidation();var K=new o(D,N);K.enableValidation();var Q=new g(V.popupZoomImgContainer,V);Q.setEventListeners();var W=new h(V.popupAddCard,V,(function(e){W.activateLoader(!0,"Создание..."),H.addCard(e).then((function(e){return te.addItem(ne(e))})).then((function(){return W.close()})).finally((function(){return W.activateLoader(!1)}))}));W.setEventListeners();var X=new h(V.popupEditName,V,(function(e){X.activateLoader(!0,"Сохранение..."),H.editProfile(e).then((function(e){return $.setUserInfo(e)})).then((function(){return X.close()})).catch((function(e){return console.log(e)})).finally((function(){return X.activateLoader(!1)}))}));X.setEventListeners();var Y=new h(V.popupAvatar,V,(function(){Y.activateLoader(!0,"Сохранение..."),H.changeAvatar(Y._getInputValues()).then((function(e){return $.setUserInfo(e)})).then((function(){return Y.close()})).finally((function(){return Y.activateLoader(!1)}))}));Y.setEventListeners();var $=new q({name:".profile__user-name",about:".profile__about-user",avatar:".profile__photo"}),ee=new P(V.popupConfirm,V,(function(e,t){H.delCard(e,t).then((function(){return t.remove()})).then((function(){return ee.close()})).catch((function(e){return console.log(e)}))}));ee.setEventListeners();var te=new B({dataBase:[],renderer:function(e){te.addItem(ne(e))}},".elements");function ne(e){return new t(x,e,re,ee,oe,$.getUserInfo()).generateCard()}function oe(e,t,n,o,r,i){var a=$.getUserInfo();e?H.delLike(n,a).then((function(e){o.classList.remove(r),i.textContent=e.likes.length,t.pop(a)})).catch((function(e){return console.log(e)})):H.addLike(n,a).then((function(e){o.classList.add(r),i.textContent=e.likes.length,t.push(a)})).catch((function(e){return console.log(e)}))}function re(e,t){Q.open(e,t)}U.addEventListener("click",(function(){Z.resetValid(),W.open()})),J.addEventListener("click",(function(){K.resetValid(),Y.open()})),z.addEventListener("click",(function(){X.open(),G.resetValid(),X.setInputValues($.getUserInfo())}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUxBQU8sSUFBTUEsRUFBSSxXQUNiLFdBQVlDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEksNEZBQU0sU0FFZEMsS0FBS0MsTUFBUU4sRUFBS08sS0FDbEJGLEtBQUtHLE1BQVFSLEVBQUtTLEtBQ2xCSixLQUFLSyxPQUFTVixFQUFLVyxNQUNuQk4sS0FBS08sdUJBQXlCYixFQUM5Qk0sS0FBS1EsaUJBQW1CWixFQUN4QkksS0FBS1MsMEJBQTRCWixFQUNqQ0csS0FBS1UsaUJBQW1CWixFQUN4QkUsS0FBS1csUUFBVWhCLEVBQUtpQixJQUNwQlosS0FBS2EsYUFBZWxCLEVBQUttQixZQUN6QmQsS0FBS2UsU0FBV2hCLEVBQUthLElBQ3JCWixLQUFLZ0IsUUFBVXJCLEVBQUtzQixNQUFNTCxHQUM5QixDLFFBNkVDLE8sRUE1RUwsRyxFQUFBLDJCQUNJLFdBTUksT0FMQVosS0FBS2tCLFNBQVlDLFNBQ2hCQyxjQUFjcEIsS0FBS08sdUJBQXVCYyxVQUMxQ0MsUUFDQUYsY0FBY3BCLEtBQUtPLHVCQUF1QmdCLE1BQzFDQyxXQUFVLEdBQ0p4QixLQUFLa0IsUUFDaEIsR0FDSiwwQkFDSSxXQVlJLE9BWEFsQixLQUFLeUIsZUFDTHpCLEtBQUswQixhQUFlMUIsS0FBS2tCLFNBQVNFLGNBQWNwQixLQUFLTyx1QkFBdUJMLE1BQzVFRixLQUFLMkIsWUFBYzNCLEtBQUtrQixTQUFTRSxjQUFjcEIsS0FBS08sdUJBQXVCcUIsU0FDM0U1QixLQUFLNkIsa0JBQW9CN0IsS0FBS2tCLFNBQVNFLGNBQWNwQixLQUFLTyx1QkFBdUJ1QixTQUNqRjlCLEtBQUs2QixrQkFBa0JFLFlBQWMvQixLQUFLSyxPQUFPMkIsT0FDakRoQyxLQUFLMEIsYUFBYUssWUFBYy9CLEtBQUtDLE1BQ3JDRCxLQUFLMkIsWUFBWU0sSUFBTWpDLEtBQUtDLE1BQzVCRCxLQUFLMkIsWUFBWU8sSUFBTWxDLEtBQUtHLE1BQzVCSCxLQUFLbUMscUJBQ0xuQyxLQUFLb0MscUJBQ0xwQyxLQUFLcUMsc0JBQ0VyQyxLQUFLa0IsUUFDaEIsR0FBQyxpQ0FDRCxXQUNPbEIsS0FBS2UsV0FBYWYsS0FBS2dCLFVBQ3RCaEIsS0FBS3NDLGtCQUFrQkMsTUFBTUMsUUFBVSxPQUUvQyxHQUFDLGlDQUNELFdBQXNCLFdBQ2xCLE9BQU94QyxLQUFLSyxPQUFPb0MsTUFBSyxTQUFDQyxHQUNyQixPQUFPQSxFQUFLOUIsTUFBUSxFQUFLRyxRQUM3QixHQUNKLEdBQUMseUJBRUQsV0FDSWYsS0FBSzJDLFlBQVlDLFVBQVVDLElBQUk3QyxLQUFLTyx1QkFBdUJ1QyxXQUMvRCxHQUFDLGdDQUNELFdBQXFCLFdBQ2Q5QyxLQUFLSyxPQUFPb0MsTUFBSyxTQUFBMUMsR0FBSSxPQUFJQSxFQUFLYSxNQUFRLEVBQUtHLFFBQVEsS0FDbERmLEtBQUsrQyxhQUViLEdBQUMsNkJBRUQsV0FDTy9DLEtBQUtnRCxzQkFDSmhELEtBQUtVLGtCQUNELEVBQ0FWLEtBQUtLLE9BQ0xMLEtBQUtXLFFBQ0xYLEtBQUsyQyxZQUNMM0MsS0FBS08sdUJBQXVCdUMsV0FDNUI5QyxLQUFLNkIsbUJBQ0Q3QixLQUFLZ0QsdUJBQ2JoRCxLQUFLVSxrQkFDRCxFQUNBVixLQUFLSyxPQUNMTCxLQUFLVyxRQUNMWCxLQUFLMkMsWUFDTDNDLEtBQUtPLHVCQUF1QnVDLFdBQzVCOUMsS0FBSzZCLGtCQUVqQixHQUFDLGdDQUVELFdBQXFCLFdBQ2pCN0IsS0FBSzJDLFlBQWMzQyxLQUFLa0IsU0FBU0UsY0FBY3BCLEtBQUtPLHVCQUF1QjBDLFlBQzNFakQsS0FBSzJDLFlBQVlPLGlCQUFpQixTQUFTLGtCQUFNLEVBQUtDLGlCQUFpQixJQUN2RW5ELEtBQUtzQyxrQkFBb0J0QyxLQUFLa0IsU0FBU0UsY0FBY3BCLEtBQUtPLHVCQUF1QjZDLGtCQUNqRnBELEtBQUtzQyxrQkFBa0JZLGlCQUFpQixTQUFTLFdBQzdDLEVBQUt6QywwQkFBMEI0QyxLQUFLLEVBQUsxQyxRQUFTLEVBQUtPLFNBQVMsSUFDcEVsQixLQUFLMkIsWUFBWXVCLGlCQUFpQixTQUFTLGtCQUFNLEVBQUtJLGVBQWUsR0FFekUsR0FBQywyQkFFRCxXQUNJdEQsS0FBS1EsaUJBQWlCUixLQUFLQyxNQUFPRCxLQUFLRyxNQUMzQyxNLG9FQUFDLEVBaEdZLEcsc0tDQVYsSUFBTW9ELEVBQWEsV0FDdEIsV0FBWUMsRUFBa0JDLEksNEZBQU0sU0FDaEN6RCxLQUFLMEQsa0JBQW9CRixFQUN6QnhELEtBQUsyRCxXQUFhRixFQUNsQnpELEtBQUs0RCxlQUFpQjVELEtBQUsyRCxXQUFXdkMsY0FBY3BCLEtBQUswRCxrQkFBa0JHLHNCQUMzRTdELEtBQUs4RCxXQUFhQyxNQUFNQyxLQUFLaEUsS0FBSzJELFdBQVdNLGlCQUFpQmpFLEtBQUswRCxrQkFBa0JRLGVBQ3pGLEMsUUErREMsTyxFQTlERCxHLEVBQUEsa0NBQ0EsU0FBb0JDLEdBQ1hBLEVBQWFDLFNBQVNDLE1BR3ZCckUsS0FBS3NFLGdCQUFnQkgsR0FGckJuRSxLQUFLdUUsZ0JBQWdCSixFQUFjQSxFQUFhSyxrQkFHbkQsR0FFTCw2QkFDQSxTQUFnQkwsRUFBY00sR0FDMUIsSUFBTUMsRUFBZTFFLEtBQUsyRCxXQUFXdkMsY0FBYyxJQUFELE9BQUsrQyxFQUFhUSxHQUFFLFdBQ3RFUixFQUFhdkIsVUFBVUMsSUFBSTdDLEtBQUswRCxrQkFBa0JrQixpQkFDbERGLEVBQWEzQyxZQUFjMEMsRUFDM0JDLEVBQWE5QixVQUFVQyxJQUFJN0MsS0FBSzBELGtCQUFrQm1CLFdBQ3RELEdBQ0EsNkJBQ0EsU0FBZ0JWLEdBQ1osSUFBTU8sRUFBZTFFLEtBQUsyRCxXQUFXdkMsY0FBYyxJQUFELE9BQUsrQyxFQUFhUSxHQUFFLFdBQ3RFUixFQUFhdkIsVUFBVWtDLE9BQU85RSxLQUFLMEQsa0JBQWtCa0IsaUJBQ3JERixFQUFhOUIsVUFBVWtDLE9BQU85RSxLQUFLMEQsa0JBQWtCbUIsWUFDckRILEVBQWEzQyxZQUFjLEVBQy9CLEdBQUMsOEJBQ0QsV0FDSSxPQUFPL0IsS0FBSzhELFdBQVdpQixNQUFLLFNBQUNaLEdBQ3pCLE9BQVFBLEVBQWFDLFNBQVNDLEtBQ2xDLEdBQ0osR0FDQSxxQ0FDQSxXQUEwQixXQUN0QnJFLEtBQUs4RCxXQUFXa0IsU0FBUSxTQUFDYixHQUNyQkEsRUFBYWpCLGlCQUFpQixTQUFTLFdBQ25DLEVBQUsrQixvQkFBb0JkLEdBQ3pCLEVBQUtlLG9CQUNULEdBQ0osR0FDSixHQUFDLGtDQUNELFdBQ0lsRixLQUFLNEQsZUFBZWhCLFVBQVVDLElBQUk3QyxLQUFLMEQsa0JBQWtCeUIscUJBQ3pEbkYsS0FBSzRELGVBQWV3QixVQUFXLENBQ25DLEdBQUMsaUNBQ0QsV0FDSXBGLEtBQUs0RCxlQUFlaEIsVUFBVWtDLE9BQU85RSxLQUFLMEQsa0JBQWtCeUIscUJBQzVEbkYsS0FBSzRELGVBQWV3QixVQUFXLENBQ25DLEdBQUMsZ0NBQ0QsV0FFUXBGLEtBQUtxRixtQkFFTHJGLEtBQUtzRix1QkFHTHRGLEtBQUt1RixxQkFFYixHQUFDLHdCQUNELFdBQWEsV0FDVHZGLEtBQUtzRix1QkFDTHRGLEtBQUs4RCxXQUFXa0IsU0FBUSxTQUFDYixHQUNyQixFQUFLRyxnQkFBZ0JILEVBQ3pCLEdBQ0osR0FBQyw4QkFDRCxXQUNJbkUsS0FBS3dGLHlCQUNULE0sb0VBQUMsRUFyRXFCLEcsc0tDQW5CLElBQU1DLEVBQUssV0FDZCxXQUFZQyxFQUFlQyxJLDRGQUFXLFNBQ2xDM0YsS0FBSzRGLE9BQVN6RSxTQUFTQyxjQUFjc0UsR0FDckMxRixLQUFLNkYsTUFBUTdGLEtBQUs0RixPQUFPeEUsY0FBY3VFLEVBQVVsQyxNQUNqRHpELEtBQUs4RixXQUFhSCxFQUNsQjNGLEtBQUsrRixnQkFBa0IvRixLQUFLK0YsZ0JBQWdCQyxLQUFLaEcsTUFDakRBLEtBQUtpRyxpQkFBbUJqRyxLQUFLNEYsT0FBT3hFLGNBQWNwQixLQUFLOEYsV0FBV0ksZ0JBQ3RFLEMsUUFnQ0MsTyxFQWhDQSxHLEVBQUEsOEJBQ0QsU0FBZ0JDLEdBQ0ksV0FBWkEsRUFBSUMsS0FDSnBHLEtBQUtxRyxPQUViLEdBQUMsa0JBQ0QsV0FDSWxGLFNBQVMrQixpQkFBaUIsVUFBV2xELEtBQUsrRixpQkFDMUMvRixLQUFLNEYsT0FBT2hELFVBQVVDLElBQUk3QyxLQUFLOEYsV0FBV1EsT0FDOUMsR0FBQyxtQkFDRCxXQUNJbkYsU0FBU29GLG9CQUFvQixVQUFXdkcsS0FBSytGLGlCQUM3Qy9GLEtBQUs0RixPQUFPaEQsVUFBVWtDLE9BQU85RSxLQUFLOEYsV0FBV1EsT0FDakQsR0FBQyw0QkFDRCxTQUFlRSxFQUFNQyxHQUNkRCxHQUNDeEcsS0FBS2lHLGlCQUFpQmIsVUFBVyxFQUNqQ3BGLEtBQUtpRyxpQkFBaUJsRSxZQUFjMEUsRUFDcEN6RyxLQUFLaUcsaUJBQWlCckQsVUFBVUMsSUFBSTdDLEtBQUs4RixXQUFXWSwyQkFFcEQxRyxLQUFLaUcsaUJBQWlCYixVQUFXLEVBQ2pDcEYsS0FBS2lHLGlCQUFpQmxFLFlBQWMvQixLQUFLaUcsaUJBQWlCVSxNQUMxRDNHLEtBQUtpRyxpQkFBaUJyRCxVQUFVa0MsT0FBTzlFLEtBQUs4RixXQUFXWSx5QkFFL0QsR0FBQywrQkFDRCxXQUFvQixXQUNoQjFHLEtBQUs0RixPQUFPMUMsaUJBQWlCLFNBQVMsU0FBQ2lELEdBQ25DLElBQU1TLEVBQWlCLEVBQUtoQixPQUFPeEUsY0FBYyxFQUFLMEUsV0FBV2MsaUJBQzdEVCxFQUFJVSxPQUFPakUsVUFBVWtFLFNBQVMsRUFBS2hCLFdBQVdpQixjQUFpQkgsRUFBZUUsU0FBU1gsRUFBSVUsU0FDM0YsRUFBS1IsT0FFYixHQUNKLE0sb0VBQUMsRUF2Q2EsRyxxd0NDRVgsSUFBTVcsRUFBYSxhLHFSQUFBLFUsUUFBQSxHLEVBQUEsRSwrWUFDdEIsV0FBWXRCLEVBQWVDLEVBQVdzQixHQUFrQixNQUd1QixPLDRGQUh2QixVQUNwRCxjQUFNdkIsRUFBZUMsSUFDaEJ1QixrQkFBb0JELEVBQ3pCLEVBQUtuRCxXQUFhQyxNQUFNQyxLQUFLLEVBQUs2QixNQUFNNUIsaUJBQWlCMEIsRUFBVXdCLFFBQVEsQ0FDL0UsQ0EwQkMsTyxFQXpCRCxHLEVBQUEsOEJBQ0EsV0FBa0IsV0FLZCxPQUpBbkgsS0FBS29ILGFBQWUsQ0FBQyxFQUNyQnBILEtBQUs4RCxXQUFXa0IsU0FBUSxTQUFBbUMsR0FDcEIsRUFBS0MsYUFBYUQsRUFBTWpILE1BQVFpSCxFQUFNUixLQUMxQyxJQUNPM0csS0FBS29ILFlBQ2hCLEdBQ0EsK0JBQ0EsV0FBb0IsV0FDaEIsc0RBQ0FwSCxLQUFLNkYsTUFBTTNDLGlCQUFpQixVQUFVLFNBQUNpRCxHQUNuQ0EsRUFBSWtCLGlCQUNKLEVBQUtILGtCQUFrQixFQUFLSSxrQkFDaEMsR0FDSixHQUFDLG1CQUNELFdBQ0l0SCxLQUFLNkYsTUFBTTBCLFFBQ1gseUNBQ0osR0FDQSw0QkFDQSxTQUFlQyxHQUNYeEgsS0FBSzhELFdBQVdrQixTQUFRLFNBQUFtQyxHQUN0QkEsRUFBTVIsTUFBUWEsRUFBWUwsRUFBTWpILEtBQ2xDLEdBQ0osTSxvRUFBQyxFQS9CcUIsQ0FBU3VGLEcscXdDQ0E1QixJQUFNZ0MsRUFBWSxhLHFSQUFBLFUsUUFBQSxHLEVBQUEsRSwrWUFDckIsV0FBWS9CLEVBQWVDLEdBQVcsTUFHeUMsTyw0RkFIekMsVUFDbEMsY0FBTUQsRUFBZUMsSUFDaEIrQixhQUFlLEVBQUs5QixPQUFPeEUsY0FBYyxFQUFLMEUsV0FBVzZCLGFBQzlELEVBQUtDLGFBQWUsRUFBS2hDLE9BQU94RSxjQUFjLEVBQUswRSxXQUFXK0IsYUFBYSxDQUMvRSxDQU1DLE8sRUFOQSxHLEVBQUEsbUJBQ0QsU0FBSzNILEVBQU1FLEdBQ1BKLEtBQUswSCxhQUFheEYsSUFBTTlCLEVBQ3hCSixLQUFLMEgsYUFBYXpGLElBQU0vQixFQUN4QkYsS0FBSzRILGFBQWE3RixZQUFjN0IsRUFDaEMsd0NBQ0osTSxvRUFBQyxFQVhvQixDQUFTdUYsRyxxd0NDQTNCLElBQU1xQyxFQUFlLGEscVJBQUEsVSxRQUFBLEcsRUFBQSxFLCtZQUN4QixXQUFZcEMsRUFBZUMsRUFBV29DLEdBQWtCLE1BRVYsTyw0RkFGVSxVQUNwRCxjQUFNckMsRUFBZUMsSUFDaEJxQyxrQkFBb0JELEVBQWlCLENBQzlDLENBWUMsTyxFQVpBLEcsRUFBQSxtQkFDRCxTQUFLRSxFQUFRbkgsR0FDVCx5Q0FDQWQsS0FBS1csUUFBVXNILEVBQ2ZqSSxLQUFLYSxhQUFlQyxDQUN4QixHQUFDLCtCQUNELFdBQXFCLFdBQ2pCLHNEQUNBZCxLQUFLNkYsTUFBTTNDLGlCQUFpQixVQUFVLFNBQUNpRCxHQUNuQ0EsRUFBSWtCLGlCQUNKLEVBQUtXLGtCQUFrQixFQUFLckgsUUFBUyxFQUFLRSxhQUM5QyxHQUNKLE0sb0VBQUMsRUFoQnVCLENBQVM0RSxHLHNLQ0Y5QixJQUFNeUMsRUFBTyxXQUNoQixhQUEwQkMsR0FBb0IsSUFBaENDLEVBQVEsRUFBUkEsVSw0RkFBUSxTQUNsQnBJLEtBQUtxSSxVQUFZRCxFQUNqQnBJLEtBQUtzSSxXQUFhbkgsU0FBU0MsY0FBYytHLEVBQzdDLEMsUUFVQyxPLEVBVEQsRyxFQUFBLDBCQUNBLFNBQVlJLEdBQVUsV0FDbEJBLEVBQVN2RCxTQUFRLFNBQUFyRixHQUNiLEVBQUswSSxVQUFVMUksRUFDbkIsR0FDSixHQUNBLHFCQUNBLFNBQVE2SSxHQUNKeEksS0FBS3NJLFdBQVdHLFFBQVFELEVBQzVCLE0sb0VBQUMsRUFkZSxHLHNLQ0FiLElBQU1FLEVBQVEsV0FDakIsY0FBcUMsSUFBdkJ4SSxFQUFJLEVBQUpBLEtBQU15SSxFQUFLLEVBQUxBLE1BQU9DLEVBQU0sRUFBTkEsUSw0RkFBTSxTQUM3QjVJLEtBQUtDLE1BQVFrQixTQUFTQyxjQUFjbEIsR0FDcENGLEtBQUs2SSxPQUFTMUgsU0FBU0MsY0FBY3VILEdBQ3JDM0ksS0FBSzhJLFFBQVUzSCxTQUFTQyxjQUFjd0gsRUFDMUMsQyxRQWdCQyxPLEVBZkQsRyxFQUFBLDBCQUNBLFdBQ0ksSUFBTUcsRUFBVyxDQUFDLEVBS2xCLE9BSkFBLEVBQVM3SSxLQUFPRixLQUFLQyxNQUFNOEIsWUFDM0JnSCxFQUFTSixNQUFRM0ksS0FBSzZJLE9BQU85RyxZQUM3QmdILEVBQVNILE9BQVM1SSxLQUFLOEksUUFBUTVHLElBQy9CNkcsRUFBU25JLElBQU1aLEtBQUtZLElBQ2JtSSxDQUNYLEdBQ0EseUJBQ0EsU0FBWUMsR0FDUmhKLEtBQUtDLE1BQU04QixZQUFjaUgsRUFBWTlJLEtBQ3JDRixLQUFLNkksT0FBTzlHLFlBQWNpSCxFQUFZTCxNQUN0QzNJLEtBQUs4SSxRQUFRNUcsSUFBTThHLEVBQVlKLE9BQy9CNUksS0FBS1ksSUFBTW9JLEVBQVlwSSxHQUMzQixNLG9FQUFDLEVBckJnQixHLHNLQ0NkLElBQU1xSSxFQUFHLFdBQ1osV0FBWUMsSSw0RkFBUSxTQUNoQmxKLEtBQUttSixLQUFPRCxFQUFPRSxJQUNuQnBKLEtBQUtxSixTQUFXSCxFQUFPSSxPQUMzQixDLFFBZ0ZDLE8sRUFoRkEsRyxFQUFBLDBCQUVELFdBQ0ksT0FBT0MsTUFBTSxHQUFELE9BQUl2SixLQUFLbUosS0FBSSxVQUFVLENBQy9CRyxRQUFTdEosS0FBS3FKLFdBRWpCRyxLQUFLeEosS0FBS3lKLGVBQ2YsR0FBQyw0QkFFRCxXQUNJLE9BQU9GLE1BQU0sR0FBRCxPQUFJdkosS0FBS21KLEtBQUksYUFBYSxDQUNsQ0csUUFBU3RKLEtBQUtxSixXQUVqQkcsS0FBS3hKLEtBQUt5SixlQUNmLEdBQUMseUJBRUQsU0FBWVQsR0FDUixPQUFPTyxNQUFNLEdBQUQsT0FBSXZKLEtBQUttSixLQUFJLGFBQWEsQ0FDbENPLE9BQVEsUUFDUkosUUFBU3RKLEtBQUtxSixTQUNkTSxLQUFNQyxLQUFLQyxVQUFVLENBQ2pCM0osS0FBTThJLEVBQVk5SSxLQUNsQnlJLE1BQU9LLEVBQVlMLFVBRzFCYSxLQUFLeEosS0FBS3lKLGVBQ2YsR0FBQyxxQkFFRCxTQUFRbEksR0FDSixPQUFPZ0ksTUFBTSxHQUFELE9BQUl2SixLQUFLbUosS0FBSSxVQUFVLENBQy9CTyxPQUFRLE9BQ1JKLFFBQVN0SixLQUFLcUosU0FDZE0sS0FBTUMsS0FBS0MsVUFBVSxDQUNqQjNKLEtBQU1xQixFQUFLckIsS0FDWEUsS0FBTW1CLEVBQUtuQixTQUdsQm9KLEtBQUt4SixLQUFLeUosZUFDZixHQUFDLHFCQUVELFNBQVF4QixHQUNKLE9BQU9zQixNQUFNLEdBQUQsT0FBSXZKLEtBQUttSixLQUFJLGtCQUFVbEIsR0FBVSxDQUN6Q3lCLE9BQVEsU0FDUkosUUFBU3RKLEtBQUtxSixXQUVqQkcsS0FBS3hKLEtBQUt5SixlQUNmLEdBQUMscUJBRUQsU0FBUXhCLEdBQ0osT0FBT3NCLE1BQU0sR0FBRCxPQUFJdkosS0FBS21KLEtBQUksa0JBQVVsQixFQUFNLFVBQVUsQ0FDL0N5QixPQUFRLE1BQ1JKLFFBQVN0SixLQUFLcUosV0FFakJHLEtBQUt4SixLQUFLeUosZUFDZixHQUFDLHFCQUVELFNBQVF4QixHQUNKLE9BQU9zQixNQUFNLEdBQUQsT0FBSXZKLEtBQUttSixLQUFJLGtCQUFVbEIsRUFBTSxVQUFVLENBQy9DeUIsT0FBUSxTQUNSSixRQUFTdEosS0FBS3FKLFdBRWpCRyxLQUFLeEosS0FBS3lKLGVBQ2YsR0FBQywwQkFFRCxTQUFhSyxHQUNULE9BQU9QLE1BQU0sR0FBRCxPQUFJdkosS0FBS21KLEtBQUksb0JBQW9CLENBQ3pDTyxPQUFRLFFBQ1JKLFFBQVN0SixLQUFLcUosU0FDZE0sS0FBTUMsS0FBS0MsVUFBVSxDQUNqQmpCLE9BQVFrQixFQUFVbEIsV0FHekJZLEtBQUt4SixLQUFLeUosZUFDZixHQUFDLDRCQUVELFNBQWVNLEdBQ1gsT0FBSUEsRUFBSUMsR0FDR0QsRUFBSUUsT0FFUkMsUUFBUUMsT0FBTyxXQUFELE9BQVlKLEVBQUlLLFFBQ3pDLE0sb0VBQUMsRUFwRlcsR0NESEMsRUFBcUIsQ0FDaENDLGFBQWMsZUFDZHBHLGNBQWUsZ0JBQ2ZMLHFCQUFzQixzQkFDdEJzQixvQkFBcUIsOEJBQ3JCUCxnQkFBaUIsMEJBQ2pCQyxXQUFZLDRCQUNaMEYsZUFBZ0Isb0JBRUxDLEVBQWUsQ0FDMUJuSixTQUFVLFFBQ1ZFLEtBQU0sV0FDTnJCLEtBQU0saUJBQ04rQyxXQUFZLGlCQUNaRyxpQkFBa0IsdUJBQ2xCeEIsUUFBUyxrQkFDVGtCLFdBQVksdUJBQ1poQixRQUFTLHFCQUVFNEQsRUFBZ0IsQ0FDM0JZLE9BQVEsZUFDUk0sZUFBZ0IsMEJBQ2hCNkQsVUFBVyxvQkFDWDFELFlBQWEsbUJBQ2JZLFlBQWEsd0JBQ2JFLFlBQWEsdUJBQ2I2QyxhQUFjLHVCQUNkakgsS0FBTSxlQUNOMEQsTUFBTyxnQkFDUHdELHNCQUF1Qix1QkFDdkJDLGNBQWUsd0JBQ2ZDLFVBQVcsK0JBQ1hDLFNBQVUsaUNBQ1ZDLGFBQWMscUJBQ2Q3RSxnQkFBaUIsc0JBQ2pCUSx3QkFBeUIsK0JBQ3pCc0UsWUFBYSw0QkFTRkMsRUFBb0I5SixTQUFTQyxjQUFjLGdCQUMzQzhKLEVBQVkvSixTQUFTQyxjQUFjLGVBRW5DK0osRUFEYWhLLFNBQVNDLGNBQWMsNEJBQ1FBLGNBQWMsa0NBRTFEZ0ssRUFEU2pLLFNBQVNDLGNBQWMseUJBQ0lBLGNBQWMsK0JBQ2xEaUssRUFBcUJsSyxTQUFTQyxjQUFjLDhCQUk1Q2tLLEdBSFlELEVBQW1CakssY0FBYyxrQ0FDakNpSyxFQUFtQmpLLGNBQWMsa0NBQzFDRCxTQUFTQyxjQUFjLFlBQ0pBLGNBQWMsb0JDeEIzQ21LLEVBQU0sSUFBSXRDLEVBUkUsQ0FDaEJHLElBQUssOENBQ0xFLFFBQVMsQ0FDUGtDLGNBQWUsdUNBQ2YsZUFBZ0Isc0JBTXBCRCxFQUFJRSxpQkFDSGpDLE1BQUssU0FBU2tDLEdBQ1hDLEVBQVlDLFlBQVlGLEVBQzVCLElBQ0FILEVBQUlNLGNBQ0hyQyxNQUFLLFNBQUFzQyxHQUNKQyxHQUFVQyxZQUFZRixFQUFjRyxVQUN0QyxJQUVBLElBQU1DLEVBQXdCLElBQUkzSSxFQUFlOEcsRUFBb0JnQixHQUNyRWEsRUFBc0JDLG1CQUN0QixJQUFNQyxFQUF5QixJQUFJN0ksRUFBZThHLEVBQW9CZSxHQUN0RWdCLEVBQXVCRCxtQkFDdkIsSUFBTUUsRUFBMkIsSUFBSTlJLEVBQWU4RyxFQUFvQmMsR0FDeEVrQixFQUF5QkYsbUJBRXpCLElBQU1HLEVBQVcsSUFBSTdFLEVBQWEvQixFQUFjaUYsc0JBQXVCakYsR0FDdkU0RyxFQUFTQyxvQkFDVCxJQUFNN0IsRUFBZSxJQUFJMUQsRUFBY3RCLEVBQWNnRixhQUFjaEYsR0F5RG5FLFNBQTBCc0QsR0FDeEIwQixFQUFhOEIsZ0JBQWUsRUFBTSxlQUNsQ2pCLEVBQUlrQixRQUFRekQsR0FDVFEsTUFBSyxTQUFDa0QsR0FBSSxPQUFLWCxHQUFVWSxRQUFRQyxHQUFjRixHQUFNLElBQ3JEbEQsTUFBSyxrQkFBTWtCLEVBQWFyRSxPQUFPLElBQy9Cd0csU0FBUSxrQkFBTW5DLEVBQWE4QixnQkFBZSxFQUFNLEdBQ3JELElBOURBOUIsRUFBYTZCLG9CQUNiLElBQU1PLEVBQW1CLElBQUk5RixFQUFjdEIsRUFBY2tGLGNBQWVsRixHQStEeEUsU0FBaUNzRCxHQUMvQjhELEVBQWlCTixnQkFBZSxFQUFNLGlCQUN0Q2pCLEVBQUl3QixZQUFZL0QsR0FDYlEsTUFBSyxTQUFDa0QsR0FBSSxPQUFLZixFQUFZQyxZQUFZYyxFQUFLLElBQzVDbEQsTUFBSyxrQkFBTXNELEVBQWlCekcsT0FBTyxJQUNuQzJHLE9BQU0sU0FBQ0MsR0FBRyxPQUFLQyxRQUFRQyxJQUFJRixFQUFJLElBQy9CSixTQUFRLGtCQUFNQyxFQUFpQk4sZ0JBQWUsRUFBTSxHQUV6RCxJQXRFQU0sRUFBaUJQLG9CQUNqQixJQUFNYSxFQUFrQixJQUFJcEcsRUFBY3RCLEVBQWNzRixZQUFhdEYsR0FzRXJFLFdBQ0UwSCxFQUFnQlosZ0JBQWUsRUFBTSxpQkFDckNqQixFQUFJOEIsYUFBYUQsRUFBZ0I5RixtQkFDOUJrQyxNQUFLLFNBQUNrRCxHQUFJLE9BQUtmLEVBQVlDLFlBQVljLEVBQUssSUFDNUNsRCxNQUFLLGtCQUFNNEQsRUFBZ0IvRyxPQUFPLElBQ2xDd0csU0FBUSxrQkFBTU8sRUFBZ0JaLGdCQUFlLEVBQU0sR0FDeEQsSUEzRUFZLEVBQWdCYixvQkFDaEIsSUFBTVosRUFBYyxJQUFJakQsRURuQlEsQ0FDOUJ4SSxLQUFNLHNCQUNOeUksTUFBTyx1QkFDUEMsT0FBUSxvQkNpQkowRSxHQUFrQixJQUFJeEYsRUFBZ0JwQyxFQUFjcUYsYUFBY3JGLEdBc0J4RSxTQUEwQnVDLEVBQVFuSCxHQUNoQ3lLLEVBQUlnQyxRQUFRdEYsRUFBUW5ILEdBQ2pCMEksTUFBSyxrQkFBTTFJLEVBQVlnRSxRQUFRLElBQy9CMEUsTUFBSyxrQkFBTThELEdBQWdCakgsT0FBTyxJQUNsQzJHLE9BQU0sU0FBQ0MsR0FBRyxPQUFLQyxRQUFRQyxJQUFJRixFQUFJLEdBQ3BDLElBMUJBSyxHQUFnQmYsb0JBQ2hCLElBQU1SLEdBQVksSUFBSTdELEVBQ3RCLENBQ0VLLFNBQVUsR0FDVkgsU0FBVSxTQUFDekksR0FDVG9NLEdBQVVZLFFBQVFDLEdBQWNqTixHQUNsQyxHRHJCc0IsYUN3QnhCLFNBQVNpTixHQUFjak4sR0FTckIsT0FSZ0IsSUFBSUYsRUFDbEIrSyxFQUNBN0ssRUFDQUMsR0FDQTBOLEdBQ0F4TixHQUNBNkwsRUFBWTZCLGVBRUNDLGNBQ2pCLENBU0EsU0FBUzNOLEdBQWdCNE4sRUFBYUMsRUFBWTFGLEVBQVFoRixFQUFZMkssRUFBc0JDLEdBQ3hGLElBQU1DLEVBQWNuQyxFQUFZNkIsY0FDNUJFLEVBU0ZuQyxFQUFJd0MsUUFBUTlGLEVBQVE2RixHQUNqQnRFLE1BQUssU0FBQ2pJLEdBQ0wwQixFQUFXTCxVQUFVa0MsT0FBTzhJLEdBQzVCQyxFQUFhOUwsWUFBY1IsRUFBS2pCLE1BQU0wQixPQUN0QzJMLEVBQVdLLElBQUlGLEVBQ2pCLElBQ0NkLE9BQU0sU0FBQ0MsR0FBRyxPQUFLQyxRQUFRQyxJQUFJRixFQUFJLElBZGxDMUIsRUFBSTBDLFFBQVFoRyxFQUFRNkYsR0FDakJ0RSxNQUFLLFNBQUNqSSxHQUNMMEIsRUFBV0wsVUFBVUMsSUFBSStLLEdBQ3pCQyxFQUFhOUwsWUFBY1IsRUFBS2pCLE1BQU0wQixPQUN0QzJMLEVBQVdPLEtBQUtKLEVBQ2xCLElBQ0NkLE9BQU0sU0FBQ0MsR0FBRyxPQUFLQyxRQUFRQyxJQUFJRixFQUFJLEdBVXhDLENBMkJBLFNBQVNyTixHQUFnQk0sRUFBTUUsR0FDN0JrTSxFQUFTakosS0FBS25ELEVBQU1FLEVBQ3RCLENBRUE4SyxFQUFVaEksaUJBQWlCLFNBQVMsV0FDbENnSixFQUFzQmlDLGFBQ3RCekQsRUFBYXJILE1BQ2YsSUFFQWlJLEVBQVlwSSxpQkFBaUIsU0FBUyxXQUNwQ21KLEVBQXlCOEIsYUFDekJmLEVBQWdCL0osTUFDbEIsSUFHQTRILEVBQWtCL0gsaUJBQWlCLFNBQVMsV0FDMUM0SixFQUFpQnpKLE9BQ2pCK0ksRUFBdUIrQixhQUN2QnJCLEVBQWlCc0IsZUFBZXpDLEVBQVk2QixjQUM5QyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwUGljdHVyZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwQ29uZmlybURlbC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIENhcmQge1xyXG4gICAgY29uc3RydWN0b3IoY2FyZEVsZW1lbnRzU2VsZWN0b3JzLCBcclxuICAgICAgICAgICAgICAgIGl0ZW0sIFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlQ2FyZENsaWNrLCBcclxuICAgICAgICAgICAgICAgIGhhbmRsZUNvbmZpcm1EZWxldGVDbGljayxcclxuICAgICAgICAgICAgICAgIGhhbmRsZUxpa2VDbGljaywgXHJcbiAgICAgICAgICAgICAgICB1c2VyKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX25hbWUgPSBpdGVtLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fbGluayA9IGl0ZW0ubGluaztcclxuICAgICAgICB0aGlzLl9saWtlcyA9IGl0ZW0ubGlrZXM7XHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnRzU2VsZWN0b3JzID0gY2FyZEVsZW1lbnRzU2VsZWN0b3JzO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgICAgICB0aGlzLl9oYW5kbGVDb25maXJtRGVsZXRlQ2xpY2sgPSBoYW5kbGVDb25maXJtRGVsZXRlQ2xpY2s7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xyXG4gICAgICAgIHRoaXMuX2NhcmRJZCA9IGl0ZW0uX2lkO1xyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gaXRlbS5jYXJkRWxlbWVudDtcclxuICAgICAgICB0aGlzLl9vd25lcklkID0gdXNlci5faWQ7XHJcbiAgICAgICAgdGhpcy5fdXNlcklkID0gaXRlbS5vd25lci5faWQ7XHJcbiAgICB9XHJcbi8vINC/0L7Qu9GD0YfQsNC10Lwg0YDQsNC30LzQtdGC0LrRgyDQutCw0YDRgtC+0YfQutC4INC4INCy0L7Qt9Cy0YDQsNGJ0LDQtdC8KNGI0LDQsdC70L7QvSlcclxuICAgIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gIGRvY3VtZW50XHJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZEVsZW1lbnRzU2VsZWN0b3JzLnRlbXBsYXRlKVxyXG4gICAgICAgIC5jb250ZW50XHJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZEVsZW1lbnRzU2VsZWN0b3JzLmNhcmQpXHJcbiAgICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICAgIH1cclxuLy8g0L3QsNC/0L7Qu9C90Y/QtdC8INC60LDRgNGC0L7Rh9C60YMg0LTQsNC90L3Ri9C80LhcclxuICAgIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgICAgICB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnROYW1lID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRFbGVtZW50c1NlbGVjdG9ycy5uYW1lKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50SW1nID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRFbGVtZW50c1NlbGVjdG9ycy5jYXJkSW1nKTtcclxuICAgICAgICB0aGlzLl9saWtlQ291bnRFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRFbGVtZW50c1NlbGVjdG9ycy5udW1MaWtlKTtcclxuICAgICAgICB0aGlzLl9saWtlQ291bnRFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnROYW1lLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50SW1nLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudEltZy5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyQWN0aXZlTGlrZXMoKTtcclxuICAgICAgICB0aGlzLl9yZW5kZXJBY3RpdmVEZWxJY28oKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICAgIH1cclxuICAgIF9yZW5kZXJBY3RpdmVEZWxJY28oKSB7XHJcbiAgICAgICAgaWYodGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fdXNlcklkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkRlbGV0ZUNhcmQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBfaW5pdGlhbEFjdGl2ZUxpa2VzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9saWtlcy5maW5kKChsaWtlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBsaWtlLl9pZCA9PT0gdGhpcy5fb3duZXJJZFxyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG4vLyDQkNC60YLQuNCy0L3QsNGPINC40LrQvtC90LrQsCDQu9Cw0LnQutCwXHJcbiAgICBfbGlrZUFjdGl2ZSgpIHtcclxuICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5fY2FyZEVsZW1lbnRzU2VsZWN0b3JzLmxpa2VBY3RpdmUpO1xyXG4gICAgfTtcclxuICAgIF9yZW5kZXJBY3RpdmVMaWtlcygpIHtcclxuICAgICAgICBpZih0aGlzLl9saWtlcy5maW5kKHVzZXIgPT4gdXNlci5faWQgPT09IHRoaXMuX293bmVySWQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpa2VBY3RpdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIF9oYW5kbGVMaWtlQ2FyZCgpIHtcclxuICAgICAgICBpZih0aGlzLl9pbml0aWFsQWN0aXZlTGlrZXMoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2soXHJcbiAgICAgICAgICAgICAgICB0cnVlLCBcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xpa2VzLCBcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhcmRJZCwgXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uLCBcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhcmRFbGVtZW50c1NlbGVjdG9ycy5saWtlQWN0aXZlLCBcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xpa2VDb3VudEVsZW1lbnQpXHJcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5faW5pdGlhbEFjdGl2ZUxpa2VzKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKFxyXG4gICAgICAgICAgICAgICAgZmFsc2UsIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGlrZXMsIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FyZElkLCBcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xpa2VCdXR0b24sIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnRzU2VsZWN0b3JzLmxpa2VBY3RpdmUsIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGlrZUNvdW50RWxlbWVudClcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4vLyDRgdC70YPRiNCw0YLQtdC70Lgg0L7RgtC00LXQu9GM0L3Ri9GFINGE0YPQvdC60YbQuNC+0L3QsNC70YzQvdGL0YUg0Y3Qu9C10LzQtdC90YLQvtCyINC60LDRgNGC0L7Rh9C60LhcclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRFbGVtZW50c1NlbGVjdG9ycy5saWtlQnV0dG9uKTtcclxuICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlTGlrZUNhcmQoKSk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRGVsZXRlQ2FyZCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkRWxlbWVudHNTZWxlY3RvcnMuYnV0dG9uRGVsZXRlQ2FyZCk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRGVsZXRlQ2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlQ29uZmlybURlbGV0ZUNsaWNrLm9wZW4odGhpcy5fY2FyZElkLCB0aGlzLl9lbGVtZW50KX0pO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRJbWcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9vcGVuUG9wdXBJbWcoKSk7XHJcbiAgICAgICAgXHJcbiAgICB9O1xyXG4vLyDRg9Cy0LXQu9C40YfQtdC90L3QsNGPINC60LDRgNGC0LjQvdC60LAg0Lgg0L/QvtC00L/QuNGB0YxcclxuICAgIF9vcGVuUG9wdXBJbWcoKSB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfTtcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtKSB7XHJcbiAgICAgICAgdGhpcy5fdmFsaWRhdGlvbkNvbmZpZyA9IHZhbGlkYXRpb25Db25maWc7XHJcbiAgICAgICAgdGhpcy5fcGxhY2VGb3JtID0gZm9ybTtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fcGxhY2VGb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9wbGFjZUZvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmlucHV0U2VsZWN0b3IpKTtcclxuICAgIH1cclxuICAgIC8vINC/0YDQvtCy0LXRgNGP0LXQvCDQstCw0LvQuNC00L3QvtGB0YLRjCDQv9C+0LvRj1xyXG4gICAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB9fVxyXG5cclxuICAgIC8vINC00L7QsdCw0LLQu9GP0LXQvCDQutC70LDRgdGBINGBINC+0YjQuNCx0LrQvtC5XHJcbiAgICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcclxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9wbGFjZUZvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5lcnJvckNsYXNzKTtcclxuICAgIH1cclxuICAgIC8vINGD0LTQsNC70Y/QtdC8INC60LvQsNGB0YEg0YEg0L7RiNC40LHQutC+0LlcclxuICAgIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9wbGFjZUZvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICB9XHJcbiAgICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8g0YHQu9GD0YjQsNGC0LXQu9C4INC60LDQttC00L7QvNGDINC40L3Qv9GD0YLRg1xyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzSW5wdXQoKSB7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2Rpc2FibGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBfZW5hYmxlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgICAgICAvLyDQldGB0LvQuCDQtdGB0YLRjCDRhdC+0YLRjyDQsdGLINC+0LTQuNC9INC90LXQstCw0LvQuNC00L3Ri9C5INC40L3Qv9GD0YJcclxuICAgICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgICAgICAgLy8g0YHQtNC10LvQsNC5INC60L3QvtC/0LrRgyDQvdC10LDQutGC0LjQstC90L7QuVxyXG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8g0LjQvdCw0YfQtSDRgdC00LXQu9Cw0Lkg0LrQvdC+0L/QutGDINCw0LrRgtC40LLQvdC+0LlcclxuICAgICAgICAgICAgdGhpcy5fZW5hYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVzZXRWYWxpZCgpIHtcclxuICAgICAgICB0aGlzLl9kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzSW5wdXQoKTtcclxuICAgIH1cclxufTtcclxuIiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHNlbGVjdG9ycykge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMuZm9ybSk7XHJcbiAgICAgICAgdGhpcy5fc2VsZWN0b3JzID0gc2VsZWN0b3JzO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9wb3B1cFNhdmVCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NlbGVjdG9ycy5wb3B1cFNhdmVCdXR0b24pXHJcbiAgICB9XHJcbiAgICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NlbGVjdG9ycy5hY3RpdmUpO1xyXG4gICAgfVxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NlbGVjdG9ycy5hY3RpdmUpO1xyXG4gICAgfVxyXG4gICAgYWN0aXZhdGVMb2FkZXIobG9hZCwgdGV4dCkge1xyXG4gICAgICAgIGlmKGxvYWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fcG9wdXBTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5fcG9wdXBTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgICAgICAgICAgdGhpcy5fcG9wdXBTYXZlQnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5fc2VsZWN0b3JzLnBvcHVwU2F2ZUJ1dHRvbkluYWN0aXZlKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLl9wb3B1cFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9wb3B1cFNhdmVCdXR0b24udmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwU2F2ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NlbGVjdG9ycy5wb3B1cFNhdmVCdXR0b25JbmFjdGl2ZSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyQ2xvc2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NlbGVjdG9ycy5jb250YWluZXJDbG9zZSk7XHJcbiAgICAgICAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyh0aGlzLl9zZWxlY3RvcnMuY2xvc2VCdXR0b24pIHx8ICFjb250YWluZXJDbG9zZS5jb250YWlucyhldnQudGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBzZWxlY3RvcnMsIGhhbmRsZVN1bWJpdEZvcm0pIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yLCBzZWxlY3RvcnMpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZVN1bWJpdEZvcm0gPSBoYW5kbGVTdW1iaXRGb3JtO1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9ycy5pbnB1dCkpO1xyXG4gICAgfVxyXG4gICAgLy8g0L/QvtC70YPRh9Cw0LXQvCDQt9C90LDRh9C10L3QuNC1INC40L3Qv9GD0YLQsCwg0LLQutC70LDQtNGL0LLQsNC10Lwg0LIg0L3QvtCy0YvQuSDQvtCx0YrQtdC60YIg0Lgg0LXQs9C+INCy0L7Qt9Cy0YDQsNGJ0LDQtdC8XHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAgICAgdGhpcy5faW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICAgICAgfSk7IFxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dFZhbHVlcztcclxuICAgIH1cclxuICAgIC8vINGB0LvRg9GI0LDRgtC10LvRjCDQv9C+0LzQuNC80L4g0YHRgtCw0L3QtNCw0YDRgtC90L7Qs9C+INC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINC/0LXRgNC10LTQsNC10YIg0L7QsdGK0LXQutGCINGBINC90L7QstGL0LzQuCDQtNCw0L3QvdGL0LzQuFxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVN1bWJpdEZvcm0odGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTsgLy8g0YHQsdGA0L7RgdC40LvQuCDQt9C90LDRh9C10L3QuNGPINGE0L7RgNC80YtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfVxyXG4gICAgLy8g0LLQvtC30LLRgNCw0YIg0LjRgdGF0L7QtNC90L7Qs9C+INC30L3QsNGH0LXQvdC40Y8o0L/QvtC70YPRh9Cw0LXQvCDQuNC3INC+0LHRitC10LrRgtCwINGBINC00LDQvdC90YvQvNC4INC4INCy0LrQu9Cw0LTRi9Cy0LDQtdC8INCyINC40L3Qv9GD0YIpXHJcbiAgICBzZXRJbnB1dFZhbHVlcyhkYXRhVG9TZXR1cCkge1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgICAgIGlucHV0LnZhbHVlID0gZGF0YVRvU2V0dXBbaW5wdXQubmFtZV07XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBQaWN0dXJlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvciwgc2VsZWN0b3JzKSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvciwgc2VsZWN0b3JzKVxyXG4gICAgICAgIHRoaXMuX3pvb21NYWluSW1nID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3RvcnMuem9vbU1haW5JbWcpO1xyXG4gICAgICAgIHRoaXMuX3pvb21DYXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3RvcnMuem9vbUNhcHRpb24pO1xyXG4gICAgfVxyXG4gICAgb3BlbihuYW1lLCBsaW5rKSB7XHJcbiAgICAgICAgdGhpcy5fem9vbU1haW5JbWcuc3JjID0gbGluaztcclxuICAgICAgICB0aGlzLl96b29tTWFpbkltZy5hbHQgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX3pvb21DYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwQ29uZmlybURlbCBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHNlbGVjdG9ycywgaGFuZGxlRGVsZXRlQ2FyZCkge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IsIHNlbGVjdG9ycylcclxuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkID0gaGFuZGxlRGVsZXRlQ2FyZDtcclxuICAgIH1cclxuICAgIG9wZW4oY2FyZElkLCBjYXJkRWxlbWVudCkge1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgICAgICB0aGlzLl9jYXJkSWQgPSBjYXJkSWQ7XHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBjYXJkRWxlbWVudDtcclxuICAgIH1cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzICgpIHtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCh0aGlzLl9jYXJkSWQsIHRoaXMuX2NhcmRFbGVtZW50KTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3RvciApIHtcclxuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gICAgfVxyXG4gICAgLy8g0KHQvtC00LXRgNC20LjRgiDQv9GD0LHQu9C40YfQvdGL0Lkg0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0L7RgtCy0LXRh9Cw0LXRgiDQt9CwINC+0YLRgNC40YHQvtCy0LrRgyDQstGB0LXRhSDRjdC70LXQvNC10L3RgtC+0LJcclxuICAgIHJlbmRlcmVyQWxsKGRhdGFCYXNlKSB7XHJcbiAgICAgICAgZGF0YUJhc2UuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vINCh0L7QtNC10YDQttC40YIg0L/Rg9Cx0LvQuNGH0L3Ri9C5INC80LXRgtC+0LQgYWRkSXRlbSwg0LrQvtGC0L7RgNGL0Lkg0L/RgNC40L3QuNC80LDQtdGCIERPTS3RjdC70LXQvNC10L3RgiDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0LXQs9C+INCyINC60L7QvdGC0LXQudC90LXRgFxyXG4gICAgYWRkSXRlbShkb21FbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZG9tRWxlbWVudCk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IoeyBuYW1lLCBhYm91dCwgYXZhdGFyIH0pIHtcclxuICAgICAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lKTtcclxuICAgICAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXQpO1xyXG4gICAgICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyKTtcclxuICAgIH1cclxuICAgIC8vINCy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC+0LHRitC10LrRgiDRgSDRgtC10LrRg9GJ0LjQvNC4INC00LDQvdC90YvQvNC4IERPTVxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgY29uc3QgdXNlckluZm8gPSB7fTtcclxuICAgICAgICB1c2VySW5mby5uYW1lID0gdGhpcy5fbmFtZS50ZXh0Q29udGVudDtcclxuICAgICAgICB1c2VySW5mby5hYm91dCA9IHRoaXMuX2Fib3V0LnRleHRDb250ZW50O1xyXG4gICAgICAgIHVzZXJJbmZvLmF2YXRhciA9IHRoaXMuX2F2YXRhci5zcmM7XHJcbiAgICAgICAgdXNlckluZm8uX2lkID0gdGhpcy5faWQ7XHJcbiAgICAgICAgcmV0dXJuIHVzZXJJbmZvO1xyXG4gICAgfVxyXG4gICAgLy8g0LLRgdGC0LDQstC70Y/QtdC8INCyIERPTSDQv9C+0LvRg9GH0LXQvdC90YvQtSDQtNCw0L3QvdGL0LUg0LjQtyDQuNC90L/Rg9GC0L7QslxyXG4gICAgc2V0VXNlckluZm8oaW5wdXRWYWx1ZXMpIHtcclxuICAgICAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gaW5wdXRWYWx1ZXMubmFtZTtcclxuICAgICAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IGlucHV0VmFsdWVzLmFib3V0O1xyXG4gICAgICAgIHRoaXMuX2F2YXRhci5zcmMgPSBpbnB1dFZhbHVlcy5hdmF0YXI7XHJcbiAgICAgICAgdGhpcy5faWQgPSBpbnB1dFZhbHVlcy5faWQ7XHJcbiAgICB9XHJcbn0iLCJcclxuZXhwb3J0IGNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcclxuICAgICAgICB0aGlzLl91cmwgPSBjb25maWcudXJsO1xyXG4gICAgICAgIHRoaXMuX2hlYWRlcnMgPSBjb25maWcuaGVhZGVycztcclxuICAgIH1cclxuXHJcbiAgICBnZXRBbGxDYXJkcygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4odGhpcy5fY2hlY2hSZXNwb25zZSlcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbmZvUHJvZmlsZSgpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4odGhpcy5fY2hlY2hSZXNwb25zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZWRpdFByb2ZpbGUoaW5wdXRWYWx1ZXMpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBpbnB1dFZhbHVlcy5uYW1lLFxyXG4gICAgICAgICAgICAgICAgYWJvdXQ6IGlucHV0VmFsdWVzLmFib3V0XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbih0aGlzLl9jaGVjaFJlc3BvbnNlKVxyXG4gICAgfVxyXG5cclxuICAgIGFkZENhcmQoY2FyZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogY2FyZC5uYW1lLFxyXG4gICAgICAgICAgICAgICAgbGluazogY2FyZC5saW5rXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbih0aGlzLl9jaGVjaFJlc3BvbnNlKVxyXG4gICAgfVxyXG5cclxuICAgIGRlbENhcmQoY2FyZElkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbih0aGlzLl9jaGVjaFJlc3BvbnNlKVxyXG4gICAgfVxyXG5cclxuICAgIGFkZExpa2UoY2FyZElkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbih0aGlzLl9jaGVjaFJlc3BvbnNlKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBkZWxMaWtlKGNhcmRJZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4odGhpcy5fY2hlY2hSZXNwb25zZSlcclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2VBdmF0YXIodXJsQXZhdGFyKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIGF2YXRhcjogdXJsQXZhdGFyLmF2YXRhclxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4odGhpcy5fY2hlY2hSZXNwb25zZSlcclxuICAgIH1cclxuXHJcbiAgICBfY2hlY2hSZXNwb25zZShyZXMpIHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJleHBvcnQgY29uc3QgZm9ybUNvbmZpZ1NlbGVjdG9yID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXHJcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19zYXZlLWJ1dHRvbicsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19zYXZlLWJ1dHRvbl9pbmFjdGl2ZScsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxyXG4gIGVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlJyxcclxuICBwb3B1cENvbnRhaW5lcjogJ3BvcHVwX19jb250YWluZXInXHJcbiAgfTtcclxuZXhwb3J0IGNvbnN0IGNhcmRTZWxlY3RvciA9IHtcclxuICB0ZW1wbGF0ZTogJy5jYXJkJyxcclxuICBjYXJkOiAnLmVsZW1lbnQnLFxyXG4gIG5hbWU6ICcuZWxlbWVudF9fbmFtZScsXHJcbiAgbGlrZUJ1dHRvbjogJy5lbGVtZW50X19saWtlJyxcclxuICBidXR0b25EZWxldGVDYXJkOiAnLmVsZW1lbnRfX2RlbGV0ZS1pY28nLFxyXG4gIGNhcmRJbWc6ICcuZWxlbWVudF9fcGhvdG8nLFxyXG4gIGxpa2VBY3RpdmU6ICdlbGVtZW50X19saWtlX2FjdGl2ZScsXHJcbiAgbnVtTGlrZTogJy5lbGVtZW50X19udW1MaWtlJyxcclxufTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwU2VsZWN0b3IgPSB7XHJcbiAgYWN0aXZlOiAncG9wdXBfYWN0aXZlJyxcclxuICBjb250YWluZXJDbG9zZTogJy5wb3B1cF9fY29udGFpbmVyLWNsb3NlJyxcclxuICBjb250YWluZXI6ICcucG9wdXBfX2NvbnRhaW5lcicsXHJcbiAgY2xvc2VCdXR0b246ICdwb3B1cF9fY2xvc2UtaWNvJyxcclxuICB6b29tTWFpbkltZzogJy5wb3B1cF9fem9vbS1tYWluLWltZycsXHJcbiAgem9vbUNhcHRpb246ICcucG9wdXBfX3pvb20tY2FwdGlvbicsXHJcbiAgcG9wdXBBZGRDYXJkOiAnLnBvcHVwX3R5cGVfYWRkLWNhcmQnLFxyXG4gIGZvcm06ICcucG9wdXBfX2Zvcm0nLFxyXG4gIGlucHV0OiAnLnBvcHVwX19pbnB1dCcsXHJcbiAgcG9wdXBab29tSW1nQ29udGFpbmVyOiAnLnBvcHVwX3R5cGVfem9vbS1pbWcnLFxyXG4gIHBvcHVwRWRpdE5hbWU6ICcucG9wdXBfdHlwZV9lZGl0LW5hbWUnLFxyXG4gIG5hbWVJbnB1dDogJy5wb3B1cF9faW5wdXRfdmFsdWVfdXNlcm5hbWUnLFxyXG4gIGpvYklucHV0OiAnLnBvcHVwX19pbnB1dF92YWx1ZV9hYm91dC11c2VyJyxcclxuICBwb3B1cENvbmZpcm06ICcucG9wdXBfdHlwZV9hc2tEZWwnLFxyXG4gIHBvcHVwU2F2ZUJ1dHRvbjogJy5wb3B1cF9fc2F2ZS1idXR0b24nLFxyXG4gIHBvcHVwU2F2ZUJ1dHRvbkluYWN0aXZlOiAnLnBvcHVwX19zYXZlLWJ1dHRvbl9pbmFjdGl2ZScsXHJcbiAgcG9wdXBBdmF0YXI6ICcucG9wdXBfdHlwZV91cGRhdGVBdmF0YXInLFxyXG59O1xyXG5leHBvcnQgY29uc3QgdXNlckRhdGFTZWxlY3RvciA9IHtcclxuICBuYW1lOiAnLnByb2ZpbGVfX3VzZXItbmFtZScsXHJcbiAgYWJvdXQ6ICcucHJvZmlsZV9fYWJvdXQtdXNlcicsXHJcbiAgYXZhdGFyOiAnLnByb2ZpbGVfX3Bob3RvJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhcmRMaXN0ID0gJy5lbGVtZW50cyc7XHJcbmV4cG9ydCBjb25zdCBidXR0b25FZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lZGl0LWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1idXR0b24nKTtcclxuY29uc3QgcG9wdXBVcGRhdGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV91cGRhdGVBdmF0YXInKTtcclxuZXhwb3J0IGNvbnN0IGZvcm1FbGVtZW50Q2hhbmdlQXZhdGFyID0gcG9wdXBVcGRhdGVBdmF0YXIucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX3R5cGVfdXBkYXRlQXZhdGFyJyk7XHJcbmNvbnN0IHBvcHVwRWRpdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9lZGl0LW5hbWUnKTtcclxuZXhwb3J0IGNvbnN0IGZvcm1FbGVtZW50RWRpdE5hbWUgPSBwb3B1cEVkaXROYW1lLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV90eXBlX2VkaXQtbmFtZScpO1xyXG5leHBvcnQgY29uc3QgZm9ybUVsZW1lbnRBZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX3R5cGVfYWRkLWNhcmQnKTtcclxuZXhwb3J0IGNvbnN0IHBsYWNlTmFtZSA9IGZvcm1FbGVtZW50QWRkQ2FyZC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3ZhbHVlX3BsYWNlLW5hbWUnKTtcclxuZXhwb3J0IGNvbnN0IHBsYWNlTGluayA9IGZvcm1FbGVtZW50QWRkQ2FyZC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3ZhbHVlX3BsYWNlLWxpbmsnKTtcclxuY29uc3QgcHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlJyk7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJQaG90byA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX3Bob3RvJyk7IiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IHsgUG9wdXBQaWN0dXJlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBQaWN0dXJlLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwQ29uZmlybURlbCB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwQ29uZmlybURlbC5qc1wiO1xyXG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiXHJcbmltcG9ydCB7IFxyXG4gIGZvcm1Db25maWdTZWxlY3RvcixcclxuICBjYXJkU2VsZWN0b3IsXHJcbiAgcG9wdXBTZWxlY3RvcixcclxuICB1c2VyRGF0YVNlbGVjdG9yLFxyXG4gIGZvcm1FbGVtZW50QWRkQ2FyZCxcclxuICBmb3JtRWxlbWVudEVkaXROYW1lLFxyXG4gIGZvcm1FbGVtZW50Q2hhbmdlQXZhdGFyLFxyXG4gIGNhcmRMaXN0LFxyXG4gIGFkZEJ1dHRvbixcclxuICBidXR0b25FZGl0UHJvZmlsZSxcclxuICBhdmF0YXJQaG90byxcclxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG5jb25zdCBhcGlDb25maWcgPSB7XHJcbiAgdXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC01NScsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogJ2JkNjE4NDJiLThlNWEtNDYxZS04ZTBkLTRhMTg1NDE2MDlmNycsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiAnYXBwbGljYXRpb24vanNvbidcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoYXBpQ29uZmlnKTtcclxuXHJcbmFwaS5nZXRJbmZvUHJvZmlsZSgpXHJcbi50aGVuKGZ1bmN0aW9uKG93bmVyRGF0YSkge1xyXG4gICAgbmV3VXNlckluZm8uc2V0VXNlckluZm8ob3duZXJEYXRhKTtcclxufSk7XHJcbmFwaS5nZXRBbGxDYXJkcygpXHJcbi50aGVuKGNhcmRzTGlzdERhdGEgPT4ge1xyXG4gIGNhcmRzTGlzdC5yZW5kZXJlckFsbChjYXJkc0xpc3REYXRhLnJldmVyc2UoKSk7XHJcbn0pO1xyXG5cclxuY29uc3QgYWRkQ2FyZEZvcm1WYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IgKGZvcm1Db25maWdTZWxlY3RvciwgZm9ybUVsZW1lbnRBZGRDYXJkKTtcclxuYWRkQ2FyZEZvcm1WYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuY29uc3QgZWRpdE5hbWVGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yIChmb3JtQ29uZmlnU2VsZWN0b3IsIGZvcm1FbGVtZW50RWRpdE5hbWUpO1xyXG5lZGl0TmFtZUZvcm1WYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuY29uc3QgZWRpdEF2YXRhckZvcm1WYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IgKGZvcm1Db25maWdTZWxlY3RvciwgZm9ybUVsZW1lbnRDaGFuZ2VBdmF0YXIpO1xyXG5lZGl0QXZhdGFyRm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgcG9wdXBJbWcgPSBuZXcgUG9wdXBQaWN0dXJlKHBvcHVwU2VsZWN0b3IucG9wdXBab29tSW1nQ29udGFpbmVyLCBwb3B1cFNlbGVjdG9yKTtcclxucG9wdXBJbWcuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuY29uc3QgcG9wdXBBZGRDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBTZWxlY3Rvci5wb3B1cEFkZENhcmQsIHBvcHVwU2VsZWN0b3IsIGhhbmRsZUNhcmRTdWJtaXQpO1xyXG5wb3B1cEFkZENhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuY29uc3QgcG9wdXBFZGl0UHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwU2VsZWN0b3IucG9wdXBFZGl0TmFtZSwgcG9wdXBTZWxlY3RvciwgaGFuZGxlRWRpdFByb2ZpbGVTdWJtaXQpO1xyXG5wb3B1cEVkaXRQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmNvbnN0IHBvcHVwVXNlckF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwU2VsZWN0b3IucG9wdXBBdmF0YXIsIHBvcHVwU2VsZWN0b3IsIGhhbmRsZUF2YXRhclN1Ym1pdCk7XHJcbnBvcHVwVXNlckF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5jb25zdCBuZXdVc2VySW5mbyA9IG5ldyBVc2VySW5mbyh1c2VyRGF0YVNlbGVjdG9yKTtcclxuY29uc3QgcG9wdXBDb25maXJtRGVsID0gbmV3IFBvcHVwQ29uZmlybURlbChwb3B1cFNlbGVjdG9yLnBvcHVwQ29uZmlybSwgcG9wdXBTZWxlY3RvciwgaGFuZGxlRGVsZXRlQ2FyZCk7XHJcbnBvcHVwQ29uZmlybURlbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5jb25zdCBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbiggXHJcbnsgXHJcbiAgZGF0YUJhc2U6IFtdLFxyXG4gIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgY2FyZHNMaXN0LmFkZEl0ZW0oY3JlYXRlTmV3Q2FyZChpdGVtKSk7XHJcbiAgfVxyXG59LCBjYXJkTGlzdCk7XHJcbi8vINCh0L7Qt9C00LDQtdC8INC60LDRgNGC0L7Rh9C60YMg0L/QviDRiNCw0LHQu9C+0L3RgyDQuCDQvdCw0L/QvtC70L3Rj9C10Lwg0LTQsNC90L3Ri9C80LggXHJcbmZ1bmN0aW9uIGNyZWF0ZU5ld0NhcmQoaXRlbSkge1xyXG4gIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChcclxuICAgIGNhcmRTZWxlY3RvciwgXHJcbiAgICBpdGVtLCBcclxuICAgIGhhbmRsZUNhcmRDbGljaywgXHJcbiAgICBwb3B1cENvbmZpcm1EZWwsXHJcbiAgICBoYW5kbGVMaWtlQ2xpY2ssXHJcbiAgICBuZXdVc2VySW5mby5nZXRVc2VySW5mbygpLFxyXG4gICk7XHJcbiAgcmV0dXJuIG5ld0NhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNhcmQoY2FyZElkLCBjYXJkRWxlbWVudCkge1xyXG4gIGFwaS5kZWxDYXJkKGNhcmRJZCwgY2FyZEVsZW1lbnQpXHJcbiAgICAudGhlbigoKSA9PiBjYXJkRWxlbWVudC5yZW1vdmUoKSlcclxuICAgIC50aGVuKCgpID0+IHBvcHVwQ29uZmlybURlbC5jbG9zZSgpKVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljayhsaWtlZEJlZm9yZSwgbGlrZXNBcnJheSwgY2FyZElkLCBsaWtlQnV0dG9uLCBidXR0b25BY3RpdmVTZWxlY3RvciwgbGlrZXNDb3VudGVyKSB7XHJcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IG5ld1VzZXJJbmZvLmdldFVzZXJJbmZvKClcclxuICAgIGlmKCFsaWtlZEJlZm9yZSkge1xyXG4gICAgICBhcGkuYWRkTGlrZShjYXJkSWQsIGN1cnJlbnRVc2VyKVxyXG4gICAgICAgIC50aGVuKChjYXJkKSA9PiB7XHJcbiAgICAgICAgICBsaWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoYnV0dG9uQWN0aXZlU2VsZWN0b3IpO1xyXG4gICAgICAgICAgbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gY2FyZC5saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgICBsaWtlc0FycmF5LnB1c2goY3VycmVudFVzZXIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcGkuZGVsTGlrZShjYXJkSWQsIGN1cnJlbnRVc2VyKVxyXG4gICAgICAgIC50aGVuKChjYXJkKSA9PiB7XHJcbiAgICAgICAgICBsaWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoYnV0dG9uQWN0aXZlU2VsZWN0b3IpO1xyXG4gICAgICAgICAgbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gY2FyZC5saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgICBsaWtlc0FycmF5LnBvcChjdXJyZW50VXNlcik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2FyZFN1Ym1pdChpbnB1dFZhbHVlcykge1xyXG4gIHBvcHVwQWRkQ2FyZC5hY3RpdmF0ZUxvYWRlcih0cnVlLCAn0KHQvtC30LTQsNC90LjQtS4uLicpXHJcbiAgYXBpLmFkZENhcmQoaW5wdXRWYWx1ZXMpXHJcbiAgICAudGhlbigoZGF0YSkgPT4gY2FyZHNMaXN0LmFkZEl0ZW0oY3JlYXRlTmV3Q2FyZChkYXRhKSkpXHJcbiAgICAudGhlbigoKSA9PiBwb3B1cEFkZENhcmQuY2xvc2UoKSlcclxuICAgIC5maW5hbGx5KCgpID0+IHBvcHVwQWRkQ2FyZC5hY3RpdmF0ZUxvYWRlcihmYWxzZSkpXHJcbn07XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVFZGl0UHJvZmlsZVN1Ym1pdChpbnB1dFZhbHVlcykge1xyXG4gIHBvcHVwRWRpdFByb2ZpbGUuYWN0aXZhdGVMb2FkZXIodHJ1ZSwgJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJylcclxuICBhcGkuZWRpdFByb2ZpbGUoaW5wdXRWYWx1ZXMpXHJcbiAgICAudGhlbigoZGF0YSkgPT4gbmV3VXNlckluZm8uc2V0VXNlckluZm8oZGF0YSkpXHJcbiAgICAudGhlbigoKSA9PiBwb3B1cEVkaXRQcm9maWxlLmNsb3NlKCkpXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgIC5maW5hbGx5KCgpID0+IHBvcHVwRWRpdFByb2ZpbGUuYWN0aXZhdGVMb2FkZXIoZmFsc2UpKVxyXG5cclxufTtcclxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyU3VibWl0KCkge1xyXG4gIHBvcHVwVXNlckF2YXRhci5hY3RpdmF0ZUxvYWRlcih0cnVlLCAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKVxyXG4gIGFwaS5jaGFuZ2VBdmF0YXIocG9wdXBVc2VyQXZhdGFyLl9nZXRJbnB1dFZhbHVlcygpKVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IG5ld1VzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpKVxyXG4gICAgLnRoZW4oKCkgPT4gcG9wdXBVc2VyQXZhdGFyLmNsb3NlKCkpXHJcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cFVzZXJBdmF0YXIuYWN0aXZhdGVMb2FkZXIoZmFsc2UpKVxyXG59XHJcbi8vINCf0L7QtNCz0YDRg9C30LrQsCDQvNCw0LvQtdC90YzQutC+0LkgaW1nLCDQuCDQvdCw0LjQvNC10L3QvtCy0LDQvdC40Lkg0LIg0L/QvtC/0LDQv1pvb21cclxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKG5hbWUsIGxpbmspIHtcclxuICBwb3B1cEltZy5vcGVuKG5hbWUsIGxpbmspO1xyXG59O1xyXG4vLyDQodC+0LHRi9GC0LjQtSDQvdCw0LbQsNC90LjRjyDQvdCwINC60L3QvtC/0LrRgyDQtNC+0LHQsNCy0LvQtdC40L3RjyDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LhcclxuYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIGFkZENhcmRGb3JtVmFsaWRhdGlvbi5yZXNldFZhbGlkKCk7XHJcbiAgcG9wdXBBZGRDYXJkLm9wZW4oKTtcclxufSk7IFxyXG5cclxuYXZhdGFyUGhvdG8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgZWRpdEF2YXRhckZvcm1WYWxpZGF0aW9uLnJlc2V0VmFsaWQoKTtcclxuICBwb3B1cFVzZXJBdmF0YXIub3BlbigpO1xyXG59KVxyXG5cclxuLy8g0KHQvtCx0YvRgtC40LUg0L3QsNC20LDQvdC40Y8g0L3QsCDQutC90L7Qv9C60YMg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xyXG5idXR0b25FZGl0UHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cEVkaXRQcm9maWxlLm9wZW4oKTtcclxuICBlZGl0TmFtZUZvcm1WYWxpZGF0aW9uLnJlc2V0VmFsaWQoKTtcclxuICBwb3B1cEVkaXRQcm9maWxlLnNldElucHV0VmFsdWVzKG5ld1VzZXJJbmZvLmdldFVzZXJJbmZvKCkpO1xyXG59KTsgXHJcbiJdLCJuYW1lcyI6WyJDYXJkIiwiY2FyZEVsZW1lbnRzU2VsZWN0b3JzIiwiaXRlbSIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZUNvbmZpcm1EZWxldGVDbGljayIsImhhbmRsZUxpa2VDbGljayIsInVzZXIiLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfY2FyZEVsZW1lbnRzU2VsZWN0b3JzIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVDb25maXJtRGVsZXRlQ2xpY2siLCJfaGFuZGxlTGlrZUNsaWNrIiwiX2NhcmRJZCIsIl9pZCIsIl9jYXJkRWxlbWVudCIsImNhcmRFbGVtZW50IiwiX293bmVySWQiLCJfdXNlcklkIiwib3duZXIiLCJfZWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRlbXBsYXRlIiwiY29udGVudCIsImNhcmQiLCJjbG9uZU5vZGUiLCJfZ2V0VGVtcGxhdGUiLCJfZWxlbWVudE5hbWUiLCJfZWxlbWVudEltZyIsImNhcmRJbWciLCJfbGlrZUNvdW50RWxlbWVudCIsIm51bUxpa2UiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsImFsdCIsInNyYyIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9yZW5kZXJBY3RpdmVMaWtlcyIsIl9yZW5kZXJBY3RpdmVEZWxJY28iLCJfYnV0dG9uRGVsZXRlQ2FyZCIsInN0eWxlIiwiZGlzcGxheSIsImZpbmQiLCJsaWtlIiwiX2xpa2VCdXR0b24iLCJjbGFzc0xpc3QiLCJhZGQiLCJsaWtlQWN0aXZlIiwiX2xpa2VBY3RpdmUiLCJfaW5pdGlhbEFjdGl2ZUxpa2VzIiwibGlrZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUNhcmQiLCJidXR0b25EZWxldGVDYXJkIiwib3BlbiIsIl9vcGVuUG9wdXBJbWciLCJGb3JtVmFsaWRhdG9yIiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm0iLCJfdmFsaWRhdGlvbkNvbmZpZyIsIl9wbGFjZUZvcm0iLCJfYnV0dG9uRWxlbWVudCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwicmVtb3ZlIiwic29tZSIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9kaXNhYmxlU3VibWl0QnV0dG9uIiwiX2VuYWJsZVN1Ym1pdEJ1dHRvbiIsIl9zZXRFdmVudExpc3RlbmVyc0lucHV0IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwic2VsZWN0b3JzIiwiX3BvcHVwIiwiX2Zvcm0iLCJfc2VsZWN0b3JzIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIl9wb3B1cFNhdmVCdXR0b24iLCJwb3B1cFNhdmVCdXR0b24iLCJldnQiLCJrZXkiLCJjbG9zZSIsImFjdGl2ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJsb2FkIiwidGV4dCIsInBvcHVwU2F2ZUJ1dHRvbkluYWN0aXZlIiwidmFsdWUiLCJjb250YWluZXJDbG9zZSIsInRhcmdldCIsImNvbnRhaW5zIiwiY2xvc2VCdXR0b24iLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlU3VtYml0Rm9ybSIsIl9oYW5kbGVTdW1iaXRGb3JtIiwiaW5wdXQiLCJfaW5wdXRWYWx1ZXMiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiZGF0YVRvU2V0dXAiLCJQb3B1cFBpY3R1cmUiLCJfem9vbU1haW5JbWciLCJ6b29tTWFpbkltZyIsIl96b29tQ2FwdGlvbiIsInpvb21DYXB0aW9uIiwiUG9wdXBDb25maXJtRGVsIiwiaGFuZGxlRGVsZXRlQ2FyZCIsIl9oYW5kbGVEZWxldGVDYXJkIiwiY2FyZElkIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZGF0YUJhc2UiLCJkb21FbGVtZW50IiwicHJlcGVuZCIsIlVzZXJJbmZvIiwiYWJvdXQiLCJhdmF0YXIiLCJfYWJvdXQiLCJfYXZhdGFyIiwidXNlckluZm8iLCJpbnB1dFZhbHVlcyIsIkFwaSIsImNvbmZpZyIsIl91cmwiLCJ1cmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJmZXRjaCIsInRoZW4iLCJfY2hlY2hSZXNwb25zZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidXJsQXZhdGFyIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZvcm1Db25maWdTZWxlY3RvciIsImZvcm1TZWxlY3RvciIsInBvcHVwQ29udGFpbmVyIiwiY2FyZFNlbGVjdG9yIiwiY29udGFpbmVyIiwicG9wdXBBZGRDYXJkIiwicG9wdXBab29tSW1nQ29udGFpbmVyIiwicG9wdXBFZGl0TmFtZSIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwicG9wdXBDb25maXJtIiwicG9wdXBBdmF0YXIiLCJidXR0b25FZGl0UHJvZmlsZSIsImFkZEJ1dHRvbiIsImZvcm1FbGVtZW50Q2hhbmdlQXZhdGFyIiwiZm9ybUVsZW1lbnRFZGl0TmFtZSIsImZvcm1FbGVtZW50QWRkQ2FyZCIsImF2YXRhclBob3RvIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsImdldEluZm9Qcm9maWxlIiwib3duZXJEYXRhIiwibmV3VXNlckluZm8iLCJzZXRVc2VySW5mbyIsImdldEFsbENhcmRzIiwiY2FyZHNMaXN0RGF0YSIsImNhcmRzTGlzdCIsInJlbmRlcmVyQWxsIiwicmV2ZXJzZSIsImFkZENhcmRGb3JtVmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJlZGl0TmFtZUZvcm1WYWxpZGF0aW9uIiwiZWRpdEF2YXRhckZvcm1WYWxpZGF0aW9uIiwicG9wdXBJbWciLCJzZXRFdmVudExpc3RlbmVycyIsImFjdGl2YXRlTG9hZGVyIiwiYWRkQ2FyZCIsImRhdGEiLCJhZGRJdGVtIiwiY3JlYXRlTmV3Q2FyZCIsImZpbmFsbHkiLCJwb3B1cEVkaXRQcm9maWxlIiwiZWRpdFByb2ZpbGUiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJwb3B1cFVzZXJBdmF0YXIiLCJjaGFuZ2VBdmF0YXIiLCJwb3B1cENvbmZpcm1EZWwiLCJkZWxDYXJkIiwiZ2V0VXNlckluZm8iLCJnZW5lcmF0ZUNhcmQiLCJsaWtlZEJlZm9yZSIsImxpa2VzQXJyYXkiLCJidXR0b25BY3RpdmVTZWxlY3RvciIsImxpa2VzQ291bnRlciIsImN1cnJlbnRVc2VyIiwiZGVsTGlrZSIsInBvcCIsImFkZExpa2UiLCJwdXNoIiwicmVzZXRWYWxpZCIsInNldElucHV0VmFsdWVzIl0sInNvdXJjZVJvb3QiOiIifQ==